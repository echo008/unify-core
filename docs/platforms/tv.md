# TV Âπ≥Âè∞ÂºÄÂèëÊåáÂçó

## üì∫ Ê¶ÇËø∞

Unify KMP ‰∏∫Êô∫ËÉΩÁîµËßÜÂíåÂ§ßÂûãÊòæÁ§∫ËÆæÂ§áÊèê‰æõÂÆåÊï¥ÁöÑÂºÄÂèëÊîØÊåÅÔºåÂü∫‰∫é Kotlin Multiplatform + Compose ÂÆûÁé∞Ôºå‰∏∫Â§ßÂ±èÂπïËÆæÂ§á‰ºòÂåñÁöÑÁî®Êà∑ÁïåÈù¢Âíå‰∫§‰∫í‰ΩìÈ™å„ÄÇ

### üéØ Âπ≥Âè∞ÁâπÊÄß

#### Ê†∏ÂøÉÁâπÊÄß
- **Â§ßÂ±èÂπï‰ºòÂåñ**: ‰∏ìÈó®‰∏∫TVÂ§ßÂ±èÂπï‰ºòÂåñÁöÑÁΩëÊ†ºÂ∏ÉÂ±ÄÂíåÂØºËà™
- **ÈÅ•ÊéßÂô®ÈÄÇÈÖç**: ÂÆåÊï¥ÁöÑÈÅ•ÊéßÂô®ÊåâÈîÆÊò†Â∞ÑÂíåÁÑ¶ÁÇπÁÆ°ÁêÜ
- **ËØ≠Èü≥ÊéßÂà∂**: ÂÜÖÁΩÆËØ≠Èü≥ÊêúÁ¥¢ÂíåÊéßÂà∂ÂäüËÉΩ
- **Â§öÂπ≥Âè∞ÊîØÊåÅ**: ÊîØÊåÅAndroid TV„ÄÅtvOS„ÄÅHarmonyOS TVÁ≠â

#### ÊäÄÊúØÊ†à
- **Kotlin**: 2.0.21
- **Compose Multiplatform**: 1.7.0
- **TV Compose**: ‰∏ì‰∏∫ÁîµËßÜ‰ºòÂåñÁöÑComposeÁªÑ‰ª∂
- **Leanback**: Android TV UIÊ°ÜÊû∂
- **TVML**: Apple TVÊ†áËÆ∞ËØ≠Ë®Ä

## üõ†Ô∏è ÁéØÂ¢ÉË¶ÅÊ±Ç

### ÂøÖÈúÄÂ∑•ÂÖ∑
- **Android Studio**: Hedgehog (2023.1.1) ÊàñÊõ¥È´òÁâàÊú¨
- **Android TV SDK**: API 34+
- **Xcode**: 15.0+ (tvOSÂºÄÂèë)
- **DevEco Studio**: 4.0+ (HarmonyOS TVÂºÄÂèë)

### ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ
```kotlin
// shared/build.gradle.kts
kotlin {
    // Ê∑ªÂä†TVÁõÆÊ†áÂπ≥Âè∞
    tvosArm64()
    tvosX64()
    tvosSimulatorArm64()
}
```

## üèóÔ∏è È°πÁõÆÁªìÊûÑ

### TVÂ∫îÁî®Ê®°Âùó
```
tvApp/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ tvMain/
‚îÇ       ‚îî‚îÄ‚îÄ kotlin/
‚îÇ           ‚îî‚îÄ‚îÄ com/unify/tv/
‚îÇ               ‚îú‚îÄ‚îÄ MainActivity.kt     # ‰∏ªÊ¥ªÂä®
‚îÇ               ‚îú‚îÄ‚îÄ TvApp.kt            # Â∫îÁî®ÂÖ•Âè£
‚îÇ               ‚îú‚îÄ‚îÄ theme/              # ‰∏ªÈ¢òÈÖçÁΩÆ
‚îÇ               ‚îî‚îÄ‚îÄ screens/            # È°µÈù¢ÁªÑ‰ª∂
‚îú‚îÄ‚îÄ build.gradle.kts                   # ÊûÑÂª∫ÈÖçÁΩÆ
‚îî‚îÄ‚îÄ AndroidManifest.xml                # Â∫îÁî®Ê∏ÖÂçï
```

## üé® Ê†∏ÂøÉÁªÑ‰ª∂

### ÈÅ•ÊéßÂô®ÊåâÈîÆÊò†Â∞ÑÁªÑ‰ª∂

```kotlin
@Composable
fun UnifyTVRemoteControl(
    modifier: Modifier = Modifier,
    onKeyPress: ((TVRemoteKey) -> Unit)? = null,
    onGesture: ((TVGesture) -> Unit)? = null
) {
    // Â§ÑÁêÜÈÅ•ÊéßÂô®ÊåâÈîÆ‰∫ã‰ª∂
    val focusRequester = remember { FocusRequester() }

    Box(
        modifier = modifier
            .fillMaxSize()
            .focusRequester(focusRequester)
            .focusable()
            .onKeyEvent { keyEvent ->
                when (keyEvent.key) {
                    Key.DirectionUp -> {
                        onKeyPress?.invoke(TVRemoteKey.UP)
                        true
                    }
                    Key.DirectionDown -> {
                        onKeyPress?.invoke(TVRemoteKey.DOWN)
                        true
                    }
                    Key.DirectionLeft -> {
                        onKeyPress?.invoke(TVRemoteKey.LEFT)
                        true
                    }
                    Key.DirectionRight -> {
                        onKeyPress?.invoke(TVRemoteKey.RIGHT)
                        true
                    }
                    Key.Enter -> {
                        onKeyPress?.invoke(TVRemoteKey.ENTER)
                        true
                    }
                    Key.Back -> {
                        onKeyPress?.invoke(TVRemoteKey.BACK)
                        true
                    }
                    else -> false
                }
            }
    ) {
        // TVÁïåÈù¢ÂÜÖÂÆπ
        Text(
            text = "‰ΩøÁî®ÈÅ•ÊéßÂô®ÊñπÂêëÈîÆÂØºËà™",
            modifier = Modifier.align(Alignment.Center)
        )
    }

    LaunchedEffect(Unit) {
        focusRequester.requestFocus()
    }
}
```

### ÁÑ¶ÁÇπÁÆ°ÁêÜÁ≥ªÁªüÁªÑ‰ª∂

```kotlin
@Composable
fun UnifyTVFocusManager(
    modifier: Modifier = Modifier,
    focusableItems: List<TVFocusableItem> = emptyList(),
    onFocusChanged: ((String) -> Unit)? = null
) {
    var focusedIndex by remember { mutableIntStateOf(0) }

    LazyVerticalGrid(
        columns = GridCells.Fixed(4),
        modifier = modifier.fillMaxSize(),
        contentPadding = PaddingValues(16.dp),
        horizontalArrangement = Arrangement.spacedBy(16.dp),
        verticalArrangement = Arrangement.spacedBy(16.dp)
    ) {
        itemsIndexed(focusableItems) { index, item ->
            val isFocused = index == focusedIndex

            Card(
                modifier = Modifier
                    .aspectRatio(16f/9f)
                    .border(
                        width = if (isFocused) 4.dp else 0.dp,
                        color = if (isFocused) MaterialTheme.colorScheme.primary else Color.Transparent,
                        shape = RoundedCornerShape(8.dp)
                    )
                    .clickable {
                        focusedIndex = index
                        onFocusChanged?.invoke(item.id)
                    },
                colors = CardDefaults.cardColors(
                    containerColor = if (isFocused)
                        MaterialTheme.colorScheme.primaryContainer
                    else
                        MaterialTheme.colorScheme.surface
                )
            ) {
                Box(
                    modifier = Modifier.fillMaxSize(),
                    contentAlignment = Alignment.Center
                ) {
                    Column(
                        horizontalAlignment = Alignment.CenterHorizontally,
                        verticalArrangement = Arrangement.spacedBy(8.dp)
                    ) {
                        // Â∫îÁî®ÂõæÊ†á
                        Icon(
                            imageVector = item.icon,
                            contentDescription = item.title,
                            modifier = Modifier.size(48.dp),
                            tint = if (isFocused)
                                MaterialTheme.colorScheme.primary
                            else
                                MaterialTheme.colorScheme.onSurface
                        )

                        // Â∫îÁî®Ê†áÈ¢ò
                        Text(
                            text = item.title,
                            style = if (isFocused)
                                MaterialTheme.typography.titleMedium
                            else
                                MaterialTheme.typography.bodyMedium,
                            textAlign = TextAlign.Center
                        )
                    }
                }
            }
        }
    }
}
```

### ÁΩëÊ†ºËèúÂçïÁªÑ‰ª∂

```kotlin
@Composable
fun UnifyTVGridMenu(
    items: List<TVMenuItem>,
    modifier: Modifier = Modifier,
    columns: Int = 4,
    onItemSelected: ((TVMenuItem) -> Unit)? = null
) {
    var selectedItem by remember { mutableStateOf<TVMenuItem?>(null) }

    LazyVerticalGrid(
        columns = GridCells.Fixed(columns),
        modifier = modifier.fillMaxSize(),
        contentPadding = PaddingValues(24.dp),
        horizontalArrangement = Arrangement.spacedBy(24.dp),
        verticalArrangement = Arrangement.spacedBy(24.dp)
    ) {
        items(items) { item ->
            val isSelected = selectedItem == item

            Card(
                modifier = Modifier
                    .fillMaxWidth()
                    .aspectRatio(16f/9f)
                    .clickable {
                        selectedItem = item
                        onItemSelected?.invoke(item)
                    }
                    .border(
                        width = if (isSelected) 4.dp else 0.dp,
                        color = if (isSelected) MaterialTheme.colorScheme.primary else Color.Transparent,
                        shape = RoundedCornerShape(12.dp)
                    ),
                colors = CardDefaults.cardColors(
                    containerColor = MaterialTheme.colorScheme.surface
                ),
                elevation = CardDefaults.cardElevation(
                    defaultElevation = if (isSelected) 8.dp else 2.dp
                )
            ) {
                Box(modifier = Modifier.fillMaxSize()) {
                    // Êµ∑Êä•ÂõæÁâá
                    AsyncImage(
                        model = item.posterUrl,
                        contentDescription = item.title,
                        modifier = Modifier.fillMaxSize(),
                        contentScale = ContentScale.Crop
                    )

                    // Ê∏êÂèòÈÅÆÁΩ©
                    Box(
                        modifier = Modifier
                            .fillMaxSize()
                            .background(
                                brush = Brush.verticalGradient(
                                    colors = listOf(
                                        Color.Transparent,
                                        Color.Black.copy(alpha = 0.7f)
                                    )
                                )
                            )
                    )

                    // Ê†áÈ¢òÂíåÊèèËø∞
                    Column(
                        modifier = Modifier
                            .align(Alignment.BottomStart)
                            .padding(16.dp)
                    ) {
                        Text(
                            text = item.title,
                            style = MaterialTheme.typography.headlineSmall,
                            color = Color.White,
                            fontWeight = FontWeight.Bold
                        )
                        if (item.description.isNotEmpty()) {
                            Text(
                                text = item.description,
                                style = MaterialTheme.typography.bodyMedium,
                                color = Color.White.copy(alpha = 0.8f),
                                maxLines = 2,
                                overflow = TextOverflow.Ellipsis
                            )
                        }
                    }

                    // Êí≠ÊîæÊåâÈíÆÔºàÈÄâ‰∏≠Êó∂ÊòæÁ§∫Ôºâ
                    if (isSelected) {
                        FloatingActionButton(
                            onClick = { onItemSelected?.invoke(item) },
                            modifier = Modifier
                                .align(Alignment.Center)
                                .size(64.dp),
                            containerColor = MaterialTheme.colorScheme.primary
                        ) {
                            Icon(
                                imageVector = Icons.Default.PlayArrow,
                                contentDescription = "Êí≠Êîæ",
                                tint = MaterialTheme.colorScheme.onPrimary
                            )
                        }
                    }
                }
            }
        }
    }
}
```

### Â™í‰ΩìÊí≠ÊîæÂô®ÁªÑ‰ª∂

```kotlin
@Composable
fun UnifyTVMediaPlayer(
    modifier: Modifier = Modifier,
    source: String = "",
    title: String = "",
    onPlay: (() -> Unit)? = null,
    onPause: (() -> Unit)? = null,
    onStop: (() -> Unit)? = null
) {
    var isPlaying by remember { mutableStateOf(false) }
    var currentTime by remember { mutableLongStateOf(0) }
    var totalTime by remember { mutableLongStateOf(100) }

    Column(
        modifier = modifier
            .fillMaxSize()
            .background(Color.Black)
    ) {
        // ËßÜÈ¢ëÊí≠ÊîæÂå∫Âüü
        Box(
            modifier = Modifier
                .weight(1f)
                .fillMaxWidth()
                .background(Color.DarkGray),
            contentAlignment = Alignment.Center
        ) {
            if (source.isNotEmpty()) {
                // ËøôÈáåÂ∫îËØ•ÈõÜÊàêÂÆûÈôÖÁöÑËßÜÈ¢ëÊí≠ÊîæÂô®
                Text(
                    text = "ËßÜÈ¢ëÊí≠ÊîæÂô®\n$title",
                    color = Color.White,
                    textAlign = TextAlign.Center
                )
            } else {
                Text(
                    text = "ÊöÇÊó†ËßÜÈ¢ëÊ∫ê",
                    color = Color.Gray
                )
            }
        }

        // ÊéßÂà∂Èù¢Êùø
        Card(
            modifier = Modifier.fillMaxWidth(),
            colors = CardDefaults.cardColors(
                containerColor = MaterialTheme.colorScheme.surface.copy(alpha = 0.9f)
            )
        ) {
            Column(
                modifier = Modifier.padding(16.dp),
                verticalArrangement = Arrangement.spacedBy(12.dp)
            ) {
                // Ê†áÈ¢ò
                if (title.isNotEmpty()) {
                    Text(
                        text = title,
                        style = MaterialTheme.typography.titleLarge,
                        fontWeight = FontWeight.Bold
                    )
                }

                // ËøõÂ∫¶Êù°
                Column(verticalArrangement = Arrangement.spacedBy(8.dp)) {
                    LinearProgressIndicator(
                        progress = currentTime.toFloat() / totalTime.toFloat(),
                        modifier = Modifier.fillMaxWidth()
                    )

                    Row(
                        modifier = Modifier.fillMaxWidth(),
                        horizontalArrangement = Arrangement.SpaceBetween
                    ) {
                        Text(
                            text = formatTime(currentTime),
                            style = MaterialTheme.typography.bodySmall
                        )
                        Text(
                            text = formatTime(totalTime),
                            style = MaterialTheme.typography.bodySmall
                        )
                    }
                }

                // ÊéßÂà∂ÊåâÈíÆ
                Row(
                    modifier = Modifier.fillMaxWidth(),
                    horizontalArrangement = Arrangement.Center,
                    verticalAlignment = Alignment.CenterVertically
                ) {
                    IconButton(onClick = { /* ‰∏ä‰∏ÄÈõÜ */ }) {
                        Icon(Icons.Default.SkipPrevious, "‰∏ä‰∏ÄÈõÜ")
                    }

                    Spacer(modifier = Modifier.width(16.dp))

                    FloatingActionButton(
                        onClick = {
                            if (isPlaying) {
                                onPause?.invoke()
                            } else {
                                onPlay?.invoke()
                            }
                            isPlaying = !isPlaying
                        }
                    ) {
                        Icon(
                            if (isPlaying) Icons.Default.Pause else Icons.Default.PlayArrow,
                            if (isPlaying) "ÊöÇÂÅú" else "Êí≠Êîæ"
                        )
                    }

                    Spacer(modifier = Modifier.width(16.dp))

                    IconButton(onClick = { /* ‰∏ã‰∏ÄÈõÜ */ }) {
                        Icon(Icons.Default.SkipNext, "‰∏ã‰∏ÄÈõÜ")
                    }
                }
            }
        }
    }
}
```

## üîß Âπ≥Âè∞ÁâπÂÆöÈÖçÁΩÆ

### Android TV ÈÖçÁΩÆ
```xml
<!-- AndroidManifest.xml -->
<manifest xmlns:android="http://schemas.android.com/apk/res/android">
    <uses-feature
        android:name="android.software.leanback"
        android:required="true" />
    <uses-feature
        android:name="android.hardware.touchscreen"
        android:required="false" />

    <application
        android:name=".TvApplication"
        android:banner="@drawable/tv_banner"
        android:icon="@drawable/tv_icon"
        android:label="@string/app_name">

        <activity
            android:name=".MainActivity"
            android:exported="true"
            android:theme="@style/Theme.Tv">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LEANBACK_LAUNCHER" />
            </intent-filter>
        </activity>
    </application>
</manifest>
```

### tvOS ÈÖçÁΩÆ
```swift
// iOS TV ÈÖçÁΩÆ
struct TvApp: App {
    var body: some Scene {
        WindowGroup {
            ContentView()
        }
    }
}
```

## üìä ÊÄßËÉΩ‰ºòÂåñÂª∫ËÆÆ

### Â§ßÂ±èÂπï‰ºòÂåñ
- ‰ΩøÁî®ÁΩëÊ†ºÂ∏ÉÂ±ÄÂÖÖÂàÜÂà©Áî®Â±èÂπïÁ©∫Èó¥
- ‰ºòÂåñÂ≠ó‰ΩìÂ§ßÂ∞èÂíåÈó¥Ë∑ù
- ‰ΩøÁî®Êµ∑Êä•È£éÊ†ºÁöÑËßÜËßâÂÖÉÁ¥†

### ÂØºËà™‰ºòÂåñ
- ÂÆûÁé∞ÁÑ¶ÁÇπÁÆ°ÁêÜÂíåÈîÆÁõòÂØºËà™
- Êèê‰æõÈÅ•ÊéßÂô®ÂèãÂ•ΩÁöÑ‰∫§‰∫íÊñπÂºè
- ÊîØÊåÅËØ≠Èü≥ÊéßÂà∂ÂíåÊêúÁ¥¢

### ÂÜÖÂ≠ò‰ºòÂåñ
- È¢ÑÂä†ËΩΩÂΩìÂâçÂèØËßÅÁöÑÂÜÖÂÆπ
- ÂÆûÁé∞ÂÜÖÂÆπÂàÜÈ°µÂä†ËΩΩ
- ‰ºòÂåñÂõæÁâáÂíåÂ™í‰ΩìËµÑÊ∫ê

### ÂìçÂ∫îÂºèËÆæËÆ°
- ÈÄÇÂ∫î‰∏çÂêåÂàÜËæ®ÁéáÁöÑTVËÆæÂ§á
- ÊîØÊåÅÊ®™Â±èÂíåÁ´ñÂ±èÂ∏ÉÂ±Ä
- ‰ºòÂåñ‰∏çÂêåËæìÂÖ•ËÆæÂ§áÁöÑ‰∫§‰∫í

## üîó Áõ∏ÂÖ≥ÈìæÊé•

- [Android TV ÂºÄÂèëÊåáÂçó](https://developer.android.com/training/tv)
- [tvOS ÂºÄÂèëÊñáÊ°£](https://developer.apple.com/tvos/)
- [HarmonyOS TV ÂºÄÂèë](https://developer.harmonyos.com/)
